<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Deprecating elements while maintaining PURLs and other URIs" href="deprecating-elements.html" /><link rel="prev" title="How to make a property graph schema" href="model-property-graphs.html" />

    <link rel="shortcut icon" href="https://linkml.io/uploads/linkml-logo_color-no-words.png"/><!-- Generated with Sphinx 7.1.2 and Furo 2023.09.10 -->
        <title>How to Generate AI prompts - linkml documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/common.css?v=95000900" />
    <link rel="stylesheet" type="text/css" href="../_static/css/notebooks.css?v=1ce917dd" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">linkml  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="https://linkml.io/uploads/linkml-logo_color.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">linkml  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/overview.html">LinkML at a glance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/install.html">Quick Install Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../intro/tutorial.html">Tutorial</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Tutorial</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial01.html">Part 1: Creating your first LinkML schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial02.html">Part 2: Adding a container object</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial03.html">Part 3: Adding constraints and performing validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial04.html">Part 4: Working with RDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial05.html">Part 5: Using Python dataclasses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial06.html">Part 6: Enumerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial07.html">Part 7: Slots and inheritance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial08.html">Part 8: Generating Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial09.html">Part 9: Working with SQL databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/tutorial10.html">Part 10: Working with SQL databases</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../schemas/index.html">LinkML Schemas</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of LinkML Schemas</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../schemas/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/metadata.html">Schema Element Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/inheritance.html">Inheritance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/slots.html">Slots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/arrays.html">Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/uris-and-mappings.html">URIs and Mappings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/enums.html">Semantic Enumerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/inlining.html">Inlining objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/constraints.html">Adding constraints and rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/type-designators.html">Type designators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/subsets.html">Subsets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/imports.html">Imports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/advanced.html">Advanced features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/generators.html">Mapping schemas to other frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/linter.html">Schema Linter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/derived-models.html">Derived models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/annotations.html">Annotations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/metamodel.html">The metamodel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schemas/expression-language.html">Expression Language</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../data/index.html">Working with Data</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Working with Data</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../data/conversion.html">Converting between different representations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/validating-data.html">Data Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/rdf.html">Working with RDF and LinkML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/csvs.html">CSVs and Tabular Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/python.html">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/sql-databases.html">Working with data in SQL Databases</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../generators/index.html">Generators</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Generators</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../generators/json-schema.html">JSON Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/protobuf.html">ProtoBuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/graphql.html">GraphQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/jsonld-context.html">JSON-LD Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/jsonld.html">JSON-LD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/rdf.html">RDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/sparql.html">SPARQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/shex.html">ShEx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/shacl.html">SHACL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/owl.html">OWL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/markdown.html">Markdown</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/docgen.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/erdiagram.html">ER Diagrams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/yuml.html">YUML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/plantumlgen.html">PlantUML Diagram Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/project-generator.html">Project Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/python.html">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/pydantic.html">Pydantic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/java.html">Java</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/typescript.html">Typescript</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/sqltable.html">SQL DDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/sqlalchemy.html">SQL Alchemy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/linkml.html">LinkML Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/prefixmap.html">Prefix Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/sssom.html">SSSOM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/terminusdb.html">TerminusDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/excel.html">Excel Spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/csv.html">CSV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/yaml.html">Yaml</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/pandera.html">Pandera</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../generators/common/index.html">Common</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Common</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../generators/common/build.html">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generators/common/lifecycle.html">Lifecycle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generators/common/type_designators.html">Type Designators</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">How-to Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of How-to Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="linkml-project-cookiecutter.html">LinkML Project Cookiecutter</a></li>
<li class="toctree-l2"><a class="reference internal" href="collaborative-development.html">How to run a collaborative data modeling project</a></li>
<li class="toctree-l2"><a class="reference internal" href="recognize-structural-forms.html">How to recognize and work with different structural forms</a></li>
<li class="toctree-l2"><a class="reference internal" href="yq-for-schemas.html">Using yq for querying and manipulating schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-jsonld.html">Using JSON-LD</a></li>
<li class="toctree-l2"><a class="reference internal" href="model-measurements.html">How to model quantities and measurements</a></li>
<li class="toctree-l2"><a class="reference internal" href="port-linkml.html">Porting LinkML tools to other programming languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="multidimensional-arrays.html">Multidimensional Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="model-property-graphs.html">How to make a property graph schema</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">How to Generate AI prompts</a></li>
<li class="toctree-l2"><a class="reference internal" href="deprecating-elements.html">Deprecating elements while maintaining PURLs and other URIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="ontologies-as-values.html">Using ontology terms as values in data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples of use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystem.html">The LinkML Ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specifications/linkml-spec.html">LinkML specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/contributing.html">Contribution Guidelines</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../faq/index.html">FAQ</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of FAQ</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../faq/general.html">FAQ: General</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/why-linkml.html">FAQ: Why LinkML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/modeling.html">FAQ: Modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/tools.html">FAQ: Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/python.html">FAQ: Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/getting-help.html">FAQ: Getting Help</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/contributing.html">FAQ: Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/tricky_choices.html">FAQ: Tricky Choices</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developers guide:</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../cli/index.html">CLI</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of CLI</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../cli/linkml.html"><code class="docutils literal notranslate"><span class="pre">linkml</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/generate.html"><code class="docutils literal notranslate"><span class="pre">linkml</span> <span class="pre">generate</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/lint.html"><code class="docutils literal notranslate"><span class="pre">linkml</span> <span class="pre">lint</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/validate.html"><code class="docutils literal notranslate"><span class="pre">linkml</span> <span class="pre">validate</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/entrypoints.html">Entrypoints</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developers/index.html">Developers guide</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Developers guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../developers/organization.html">GitHub Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/notebooks.html">Jupyter Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/manipulating-schemas.html">Manipulating Schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/manage-releases.html">How to Manage Releases of your LinkML Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/schemaview.html">SchemaView</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/schemabuilder.html">SchemaBuilder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/loaders-and-dumpers.html">Data Conversion: Loaders and Dumpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/inference.html">Inferring Missing Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/using-sql-dbs.html">Using SQL Databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/sqlstore.html">SQLStore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/tool-developer-guide.html">Tool Implementer Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/contributing-code.html">Contributing Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/deprecation.html">Deprecations</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../code/index.html">Code</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Code</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../code/metamodel.html">MetaModel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code/utils.html">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code/validator.html">Validator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code/deprecation.html">Deprecation Log</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="how-to-generate-ai-prompts">
<h1>How to Generate AI prompts<a class="headerlink" href="#how-to-generate-ai-prompts" title="Permalink to this heading">#</a></h1>
<section id="introduction-preamble">
<h2>Introduction Preamble<a class="headerlink" href="#introduction-preamble" title="Permalink to this heading">#</a></h2>
<p>Generative AI exemplified by ChatGPT is a powerful but unreliable technology that can help with many different
kinds of tasks:</p>
<ul class="simple">
<li><p>Document summarization</p></li>
<li><p>Extracting from text into databases</p></li>
<li><p>Natural language interfaces to databases</p></li>
</ul>
<p>The underlying technology is instruction-tuned Large Language Models (LLMs), powerful tools that have
very general question-answer abilities, yet are prone to hallucinations.
Additionally, LLMs can generate text that is understandable
by a human, but getting them to produce structured data according a defined schema can be challenging.</p>
<p>In June 2023, OpenAI announced the ability to
<a class="reference external" href="https://platform.openai.com/docs/guides/gpt/function-calling">describe function calls</a>
in OpenAI API requests. This is compatible with using LinkML to describe your data, and it is possible
to auto-generate prompts using LinkML.</p>
</section>
<section id="objective">
<h2>Objective<a class="headerlink" href="#objective" title="Permalink to this heading">#</a></h2>
<p>The idea here is to go from free text narrative or semi-structured text such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PERSONRECORD</span><span class="p">:</span> <span class="mi">1234</span>

<span class="n">Izumi</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">professor</span> <span class="n">at</span> <span class="n">the</span> <span class="n">University</span> <span class="n">of</span> <span class="n">Tokyo</span><span class="p">,</span> <span class="n">where</span> <span class="n">she</span> <span class="n">has</span> <span class="n">been</span> <span class="n">employed</span> <span class="n">since</span> <span class="mf">2017.</span>
<span class="n">She</span> <span class="ow">is</span> <span class="mi">56</span> <span class="n">years</span> <span class="n">old</span><span class="o">.</span>
<span class="n">She</span> <span class="n">has</span> <span class="n">a</span> <span class="n">brother</span> <span class="n">called</span> <span class="n">Toshiro</span><span class="o">.</span>
</pre></div>
</div>
<p>into JSON, YAML, or RDF conforming to a schema, such as the example
<a class="reference external" href="https://github.com/linkml/linkml/tree/main/examples/PersonSchema">PersonSchema</a>
from the <a class="reference external" href="https://linkml.io/linkml/intro/tutorial01.html">LinkML tutorial</a></p>
<p>For example, the intended target object may be expressed in JSON as:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1234&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Izumi&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Izumi is a professor at the University of Tokyo.&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;age_in_years&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">56</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;has_familial_relationships&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;related_to&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Toshiro&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SIBLING_OF&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;has_employment_history&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;employed_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;University of Tokyo&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;start_date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-01-01&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This how-to is aimed at a typical LinkML developer. We’ll briefly address why LinkML is a good
framework for this kind of task at the end, but if you are coming here as a newbie, you may
want to check out <a class="reference external" href="https://linkml.io/linkml/faq/why-linkml.html">Why LinkML?</a> in the FAQ.</p>
</section>
<section id="generating-prompts-from-linkml-schemas">
<h2>Generating prompts from LinkML schemas<a class="headerlink" href="#generating-prompts-from-linkml-schemas" title="Permalink to this heading">#</a></h2>
<p>The OpenAI function system uses OpenAPI specifications, which are essentially JSON-Schema.
You could use the <a class="reference external" href="https://linkml.io/linkml/generators/json-schema.html">JSON Schema Generator</a> to generate
the expected payload from a function, but this tutorial walks through the process of using Pydantic
generated from LinkML schemas.</p>
<section id="step-1-generate-pydantic-models-from-linkml">
<h3>Step 1: Generate Pydantic models from LinkML<a class="headerlink" href="#step-1-generate-pydantic-models-from-linkml" title="Permalink to this heading">#</a></h3>
<p>We will use the standard personinfo schema</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>gen-pydantic<span class="w"> </span>examples/PersonSchema/personinfo.yaml<span class="w"> </span>&gt;<span class="w"> </span>personinfo.py
</pre></div>
</div>
<p>We can dynamically introspect what the generated models look like as JSON-schema</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">personinfo</span><span class="w"> </span><span class="kn">import</span> <span class="n">Person</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">schema_json</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Person&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A person (alive, dead, undead, or fictional).&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Id&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;has_familial_relationships&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Has Familial Relationships&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/definitions/FamilialRelationship&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="step-2-generate-a-prompt-from-the-pydantic-model">
<h3>Step 2: Generate a prompt from the Pydantic model<a class="headerlink" href="#step-2-generate-a-prompt-from-the-pydantic-model" title="Permalink to this heading">#</a></h3>
<p>For this step you will need an OpenAI API key. You can get one from <a class="reference external" href="https://openai.com/">OpenAI</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">personinfo</span><span class="w"> </span><span class="kn">import</span> <span class="n">Person</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">openai</span>

<span class="n">functions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;extract_data&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span>  <span class="s2">&quot;A person&quot;</span><span class="p">,</span>
        <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="n">Person</span><span class="o">.</span><span class="n">schema</span><span class="p">(),</span>
    <span class="p">},</span>
<span class="p">]</span>
<span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">PERSONRECORD: 1234</span>

<span class="s2">Izumi is a professor at the University of Tokyo, where she has been employed since 2017.</span>
<span class="s2">She is 56 years old.</span>
<span class="s2">She has a brother called Toshiro.</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span>
     <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;You are a helpful assistant that extracts summaries from text as JSON for a database.&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span>
     <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s1">&#39;Extract a summary from the following text: &#39;</span> <span class="o">+</span> <span class="n">text</span><span class="p">},</span>
<span class="p">]</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-3.5-turbo-0613&quot;</span><span class="p">,</span> <span class="n">functions</span><span class="o">=</span><span class="n">functions</span><span class="p">,</span> <span class="n">messages</span><span class="o">=</span><span class="n">messages</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;message&#39;</span><span class="p">][</span><span class="s1">&#39;function_call&#39;</span><span class="p">][</span><span class="s1">&#39;arguments&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<p>Note that LLM output is non-deterministic, so the JSON may look different each time.</p>
<p>When I ran this right now, I got:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1234&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Izumi&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Izumi is a professor at the University of Tokyo.&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;age_in_years&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">56</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;has_familial_relationships&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;related_to&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Toshiro&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SIBLING_OF&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note it didn’t seem to extract the employment portion, despite this being part of the model.
But on other runs it does include this.</p>
<p>Welcome to the world of LLMs!</p>
</section>
<section id="step-3-generating-a-python-object">
<h3>Step 3: Generating a python object<a class="headerlink" href="#step-3-generating-a-python-object" title="Permalink to this heading">#</a></h3>
<p>As the last step you can do:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">person</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="o">**</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>
</pre></div>
</div>
<p>Note you can also use standard LinkML tools to generate YAML, RDF, TSV, store in a SQL database, etc</p>
</section>
<section id="step-4-troubleshooting">
<h3>Step 4: Troubleshooting<a class="headerlink" href="#step-4-troubleshooting" title="Permalink to this heading">#</a></h3>
<p>Often the last step will fail because the generated JSON sometimes does not strictly conform to the schema.</p>
<p>For example, sometimes the LLM is overly eager to fill in all slots, and rather than null/empty it may
fill these in with empty strings:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="nt">&quot;has_familial_relationships&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;started_at_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;ended_at_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;related_to&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Toshiro&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SIBLING_OF&quot;</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
<p>Pydantic will rightfully complain about this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">has_familial_relationships</span> <span class="o">-&gt;</span> <span class="mi">0</span> <span class="o">-&gt;</span> <span class="n">started_at_time</span>
  <span class="n">invalid</span> <span class="n">date</span> <span class="nb">format</span> <span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">value_error</span><span class="o">.</span><span class="n">date</span><span class="p">)</span>
<span class="n">has_familial_relationships</span> <span class="o">-&gt;</span> <span class="mi">0</span> <span class="o">-&gt;</span> <span class="n">ended_at_time</span>
  <span class="n">invalid</span> <span class="n">date</span> <span class="nb">format</span> <span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">value_error</span><span class="o">.</span><span class="n">date</span><span class="p">)</span>
</pre></div>
</div>
<p>Because in our schema we have defined these as <code class="docutils literal notranslate"><span class="pre">date</span></code> types.</p>
<p>You may also notice if your schema is quite nested or uses opaque foreign keys,
the extracted JSON may be somewhat “flatter”, or will do things like place
human-readable strings where there should be identifiers.</p>
<p>There are a number of possible solutions to this:</p>
<ul class="simple">
<li><p>Retry the query until the LLM gives something conformant (may be costly!)</p></li>
<li><p>Tune the prompt and instruct the LLM not to use empty strings</p></li>
<li><p>Relax the schema to allow empty strings</p></li>
<li><p>Post-process the JSON to remove empty strings</p></li>
<li><p>Hope for further fine-tuning of the LLMs</p></li>
<li><p>Use a more advanced framework like SPIRES (see below)</p></li>
<li><p>Provide <em>in context</em> examples</p></li>
</ul>
</section>
<section id="providing-in-context-examples">
<h3>Providing in-context examples<a class="headerlink" href="#providing-in-context-examples" title="Permalink to this heading">#</a></h3>
<p>LLMs often work better with in-context examples (“few shot learning”).</p>
<p>Where should we get these examples from? If you are following LinkML modeling best practices,
then you will have a set of examples in your model. You can use these to augment the prompt.</p>
<p>You could even get fancy and connect to a whole database of examples, indexed using embeddings,
and select the most relevant examples to the text to be extracted. We would recommend a framework
like <a class="reference external" href="https://github.com/hwchase17/langchain">LangChain</a> or LlamaIndex for this.</p>
<p>This is outside the scope of the core LinkML framework and we leave it to you to decide
how best to proceed for your use case. In future this may be incorporated into the OntoGPT
library (see below).</p>
<p>See <a class="reference external" href="https://github.com/linkml/linkml/issues/1499">this issue</a> for further discussion.</p>
</section>
</section>
<section id="further-exploration-text-extraction-with-ontogpt-and-spires">
<h2>Further exploration: Text extraction with OntoGPT and SPIRES<a class="headerlink" href="#further-exploration-text-extraction-with-ontogpt-and-spires" title="Permalink to this heading">#</a></h2>
<p>OntoGPT is a framework for combining LLMs with ontologies. It includes an implementation
of the SPIRES algorithm for extracting structured data from text, using LinkML schemas. The approach
taken differs from the above in two ways:</p>
<ol class="arabic simple">
<li><p>SPIRES allows for grounding of identified entities and concepts using ontology-lookup (via OAK), and <a class="reference external" href="https://linkml.io/linkml/schemas/enums.html#dynamic-enums">dynamic value sets</a></p></li>
<li><p>Rather than try and extract JSON in a single pass, SPIRES takes a multi-pass approach recursing down the schema</p></li>
</ol>
<p>SPIRES predated OpenAI function calls and we are still exploring the relative strengths and benefits of both approaches.</p>
<p>SPIRES also makes use of optional additional annotations in the schema to augment the instructions provided to the LLM.
Some of these may be separated out into their own standard in future.</p>
<p>For more on SPIRES, see:</p>
<p>Structured prompt interrogation and recursive extraction of semantics (SPIRES):
A method for populating knowledge bases using zero-shot learning. (2023)
Caufield, J.H. et al
<a class="reference external" href="https://doi.org/10.48550/arXiv.2304.02711">doi.org/10.48550/arXiv.2304.02711</a></p>
</section>
<section id="other-use-cases">
<h2>Other use cases<a class="headerlink" href="#other-use-cases" title="Permalink to this heading">#</a></h2>
<p>Extracting text is not the only use case for using LLMs with LinkML.</p>
<p>Another example is combining GPT with a trusted database to increase its reliability. If the
external database is described using LinkML, then we can build systems following patterns like
<a class="reference external" href="https://til.simonwillison.net/llms/python-react-pattern">ReAct</a> or using <a class="reference external" href="https://github.com/hwchase17/langchain">LangChain</a>
that combine the LLM with database lookups.</p>
<p>Check back later for examples of this!</p>
</section>
<section id="questions">
<h2>Questions<a class="headerlink" href="#questions" title="Permalink to this heading">#</a></h2>
<section id="why-use-linkml-for-this">
<h3>Why use LinkML for this?<a class="headerlink" href="#why-use-linkml-for-this" title="Permalink to this heading">#</a></h3>
<p>If you are not already a LinkML developer, you may be wondering why you should use LinkML for this,
rather than do this directly with Pydantic. And for many purposes, doing this directly from Pydantic
is a great solution! For some general reasons to use LinkML see <a class="reference external" href="https://linkml.io/linkml/faq/why-linkml.html">Why LinkML?</a>
in the FAQ. And bear in mind LinkML is designed to be an optional layer <em>on top</em> of frameworks like
Pydantic, rather than a replacement for them.</p>
<p>Some specific reasons to use LinkML for this particular use case:</p>
<ul class="simple">
<li><p>Many schemas are already available in LinkML, decoupled from any programmatic python details</p></li>
<li><p>LinkML is a polyglot framework, and is not tied to either Python or JSON.</p></li>
<li><p>You can modify the above example easily to produce RDF</p></li>
<li><p>LinkML allows for specification of additional semantics, some of which may be useful to help guide the LLM</p></li>
</ul>
</section>
<section id="can-i-use-llms-to-help-generate-schemas">
<h3>Can I use LLMs to help generate schemas?<a class="headerlink" href="#can-i-use-llms-to-help-generate-schemas" title="Permalink to this heading">#</a></h3>
<p>Yes! LinkML is self-describing so the above methodology should be possible to generate a schema
from semi-structured or textual sources, simply by using the metamodel as the schema!
We haven’t done many experiments yet, but if successful we may incorporate into <a class="reference external" href="https://linkml.io/schema-automator/">schema-automator</a>.</p>
<p>And of course, many LinkML developers have already discovered that GitHub copilot (and similar
tools like tabnine) work surprisingly well as an autocomplete assistant when editing schemas in
an IDE.</p>
</section>
<section id="aren-t-llms-unreliable">
<h3>Aren’t LLMs unreliable?<a class="headerlink" href="#aren-t-llms-unreliable" title="Permalink to this heading">#</a></h3>
<p>As a LinkML developer you likely care about precise modeling, and accurate representation of knowledge and data.
LLMs may seem anathema to you! They are unreliable! They hallucinate! They give a different answer from
one run to the next!</p>
<p>Additionally, there are aspects of current LLMs that go against certain parts of the Open Science ethos of LinkML.
The examples in this tutorial require subscription access to use proprietary models, with inscrutable training
data. On top of that there are environmental costs in training them and running them.</p>
<p>If this <em>isn’t</em> your reaction, then we encourage reading the Stochastic Parrots: https://dl.acm.org/doi/10.1145/3442188.3445922
paper which goes into these issues in more detail.</p>
<p>If it <em>is</em> your reaction, then rest assured that LLMs will not be a part of the core LinkML framework (although
they may be used in ancillary parts like schema-automator). But we do
intend to make it easier for people who are interested in combining LLMs with well-defined, reliable, trusted data.
Although everyone is still figuring out the strengths and benefits of this technology, there are reasons to
believe that LLMs <em>when combined with curator oversight and trusted data</em> can be a useful tool in the data
landscape.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="deprecating-elements.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Deprecating elements while maintaining PURLs and other URIs</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="model-property-graphs.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">How to make a property graph schema</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021-2024, LinkML Authors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">How to Generate AI prompts</a><ul>
<li><a class="reference internal" href="#introduction-preamble">Introduction Preamble</a></li>
<li><a class="reference internal" href="#objective">Objective</a></li>
<li><a class="reference internal" href="#generating-prompts-from-linkml-schemas">Generating prompts from LinkML schemas</a><ul>
<li><a class="reference internal" href="#step-1-generate-pydantic-models-from-linkml">Step 1: Generate Pydantic models from LinkML</a></li>
<li><a class="reference internal" href="#step-2-generate-a-prompt-from-the-pydantic-model">Step 2: Generate a prompt from the Pydantic model</a></li>
<li><a class="reference internal" href="#step-3-generating-a-python-object">Step 3: Generating a python object</a></li>
<li><a class="reference internal" href="#step-4-troubleshooting">Step 4: Troubleshooting</a></li>
<li><a class="reference internal" href="#providing-in-context-examples">Providing in-context examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#further-exploration-text-extraction-with-ontogpt-and-spires">Further exploration: Text extraction with OntoGPT and SPIRES</a></li>
<li><a class="reference internal" href="#other-use-cases">Other use cases</a></li>
<li><a class="reference internal" href="#questions">Questions</a><ul>
<li><a class="reference internal" href="#why-use-linkml-for-this">Why use LinkML for this?</a></li>
<li><a class="reference internal" href="#can-i-use-llms-to-help-generate-schemas">Can I use LLMs to help generate schemas?</a></li>
<li><a class="reference internal" href="#aren-t-llms-unreliable">Aren’t LLMs unreliable?</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    </body>
</html>