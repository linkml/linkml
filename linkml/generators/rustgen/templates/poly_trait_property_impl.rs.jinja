    fn {{ name}}(&self) -> {{ type_getter }} {
{%  if range.box_needed %}
// {{ ct }}
{% if ct == 'list' %}
        return poly_containers::ListView::new(&self.{{ name }});
{% elif ct == "mapping" %}
        return poly_containers::MapView::new(&self.{{ name }});
{% else %}
        return self.{{ name }}.as_deref();
{% endif %}
{% else %}
{% if range.optional and range.is_class_range and not range.is_reference and ct == 'None' %}
        return self.{{ name }}.as_ref();
{% else %}
        return &self.{{ name }};
{% endif %}
{% endif %}
    }
